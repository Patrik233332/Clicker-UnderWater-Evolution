<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Clicker Game</title>
    <style>
        body { margin: 0; padding: 0; background: #000; }
        #unity-container { position: absolute; width: 100%; height: 100%; }
        #loading { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); color: white; }
    </style>
</head>
<body>
    <div id="unity-container">
        <div id="loading">Loading 0%</div>
        <canvas id="unity-canvas" width="960" height="600"></canvas>
    </div>

    <script>
        var container = document.querySelector("#unity-container");
        var canvas = document.querySelector("#unity-canvas");
        var loading = document.querySelector("#loading");

        var config = {
            dataUrl: "Build/webgl-build.data",
            frameworkUrl: "Build/webgl-build.framework.js",
            codeUrl: "Build/webgl-build.wasm",
            streamingAssetsUrl: "StreamingAssets",
            companyName: "DefaultCompany",
            productName: "Clicker",
            productVersion: "1.0"
        };

        var script = document.createElement("script");
        script.src = "Build/webgl-build.loader.js";
        
        script.onload = function() {
            createUnityInstance(canvas, config, function(progress) {
                progress = Math.round(progress * 100);
                loading.textContent = "Loading " + progress + "%";
            }).then(function() {
                loading.style.display = "none";
            }).catch(function(error) {
                console.error("Unity error:", error);
                loading.textContent = "Failed to load. Check console.";
            });
        };

        script.onerror = function() {
            loading.textContent = "Failed to load loader.js";
        };

        document.body.appendChild(script);
    </script>
</body>
</html>